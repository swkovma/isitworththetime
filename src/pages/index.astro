---
import Layout from '@layouts/Layout.astro';
import { frequencies, timeSavings, getCellDisplay } from '@lib/calculations';

// Pre-calculate table values at build time (default: $2,000/month, monthly, money mode)
const DEFAULT_SALARY = 2000;
const DEFAULT_SALARY_STR = '2,000';
const DEFAULT_PERIOD = 'monthly' as const;
const DEFAULT_MODE = 'money' as const;
const DEFAULT_CURRENCY = '$';

const preCalculatedData = timeSavings.map(time =>
  frequencies.map(freq =>
    getCellDisplay(DEFAULT_SALARY, freq.multiplier, time.seconds, DEFAULT_PERIOD, DEFAULT_MODE, DEFAULT_CURRENCY, false)
  )
);
---

<Layout title="Is It Worth The Time?" description="Calculate how much to spend on time-saving tools based on your salary and the time you'll save.">
  <main class="min-h-screen flex flex-col justify-center">
    <div class="site-section grow-0">
      <div class="top-controls">
        <div class="currency-switcher">
          <button type="button" class="currency-selector" id="currency-selector">
            <span class="currency-symbol-display" id="current-currency-symbol">$</span>
            <span class="currency-code" id="current-currency-code">USD</span>
            <svg class="currency-arrow" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </button>
          <div class="currency-dropdown" id="currency-dropdown">
            <button type="button" class="currency-option" data-currency="USD"><span class="currency-sym">$</span><span>USD</span></button>
            <button type="button" class="currency-option" data-currency="EUR"><span class="currency-sym">â‚¬</span><span>EUR</span></button>
            <button type="button" class="currency-option" data-currency="GBP"><span class="currency-sym">Â£</span><span>GBP</span></button>
            <button type="button" class="currency-option" data-currency="JPY"><span class="currency-sym">Â¥</span><span>JPY</span></button>
            <button type="button" class="currency-option" data-currency="CNY"><span class="currency-sym">Â¥</span><span>CNY</span></button>
            <button type="button" class="currency-option" data-currency="INR"><span class="currency-sym">â‚¹</span><span>INR</span></button>
            <button type="button" class="currency-option" data-currency="RUB"><span class="currency-sym">â‚½</span><span>RUB</span></button>
            <button type="button" class="currency-option" data-currency="BRL"><span class="currency-sym">R$</span><span>BRL</span></button>
            <button type="button" class="currency-option" data-currency="KRW"><span class="currency-sym">â‚©</span><span>KRW</span></button>
            <button type="button" class="currency-option" data-currency="PLN"><span class="currency-sym">zÅ‚</span><span>PLN</span></button>
            <button type="button" class="currency-option" data-currency="UAH"><span class="currency-sym">â‚´</span><span>UAH</span></button>
            <button type="button" class="currency-option" data-currency="TRY"><span class="currency-sym">â‚º</span><span>TRY</span></button>
            <button type="button" class="currency-option" data-currency="THB"><span class="currency-sym">à¸¿</span><span>THB</span></button>
            <button type="button" class="currency-option" data-currency="VND"><span class="currency-sym">â‚«</span><span>VND</span></button>
            <button type="button" class="currency-option" data-currency="IDR"><span class="currency-sym">Rp</span><span>IDR</span></button>
            <button type="button" class="currency-option" data-currency="SAR"><span class="currency-sym">ï·¼</span><span>SAR</span></button>
            <button type="button" class="currency-option" data-currency="BDT"><span class="currency-sym">à§³</span><span>BDT</span></button>
            <button type="button" class="currency-option" data-currency="CAD"><span class="currency-sym">$</span><span>CAD</span></button>
            <button type="button" class="currency-option" data-currency="AUD"><span class="currency-sym">$</span><span>AUD</span></button>
            <button type="button" class="currency-option" data-currency="CHF"><span class="currency-sym">Fr</span><span>CHF</span></button>
            <button type="button" class="currency-option" data-currency="MXN"><span class="currency-sym">$</span><span>MXN</span></button>
            <button type="button" class="currency-option" data-currency="SGD"><span class="currency-sym">S$</span><span>SGD</span></button>
            <button type="button" class="currency-option" data-currency="HKD"><span class="currency-sym">HK$</span><span>HKD</span></button>
            <button type="button" class="currency-option" data-currency="SEK"><span class="currency-sym">kr</span><span>SEK</span></button>
            <button type="button" class="currency-option" data-currency="NOK"><span class="currency-sym">kr</span><span>NOK</span></button>
            <button type="button" class="currency-option" data-currency="DKK"><span class="currency-sym">kr</span><span>DKK</span></button>
            <button type="button" class="currency-option" data-currency="NZD"><span class="currency-sym">$</span><span>NZD</span></button>
            <button type="button" class="currency-option" data-currency="ZAR"><span class="currency-sym">R</span><span>ZAR</span></button>
            <button type="button" class="currency-option" data-currency="AED"><span class="currency-sym">Ø¯.Ø¥</span><span>AED</span></button>
            <button type="button" class="currency-option" data-currency="MYR"><span class="currency-sym">RM</span><span>MYR</span></button>
          </div>
        </div>
        <div class="language-switcher">
          <button type="button" class="lang-selector" id="lang-selector">
            <span class="lang-flag" id="current-flag">ğŸ‡ºğŸ‡¸</span>
            <span class="lang-name" id="current-lang-name">English</span>
            <svg class="lang-arrow" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </button>
          <div class="lang-dropdown" id="lang-dropdown">
            <button type="button" class="lang-option" data-lang="en"><span class="lang-flag">ğŸ‡ºğŸ‡¸</span><span>English</span></button>
            <button type="button" class="lang-option" data-lang="zh"><span class="lang-flag">ğŸ‡¨ğŸ‡³</span><span>ä¸­æ–‡</span></button>
            <button type="button" class="lang-option" data-lang="hi"><span class="lang-flag">ğŸ‡®ğŸ‡³</span><span>à¤¹à¤¿à¤¨à¥à¤¦à¥€</span></button>
            <button type="button" class="lang-option" data-lang="es"><span class="lang-flag">ğŸ‡ªğŸ‡¸</span><span>EspaÃ±ol</span></button>
            <button type="button" class="lang-option" data-lang="fr"><span class="lang-flag">ğŸ‡«ğŸ‡·</span><span>FranÃ§ais</span></button>
            <button type="button" class="lang-option" data-lang="ar"><span class="lang-flag">ğŸ‡¸ğŸ‡¦</span><span>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span></button>
            <button type="button" class="lang-option" data-lang="bn"><span class="lang-flag">ğŸ‡§ğŸ‡©</span><span>à¦¬à¦¾à¦‚à¦²à¦¾</span></button>
            <button type="button" class="lang-option" data-lang="pt"><span class="lang-flag">ğŸ‡§ğŸ‡·</span><span>PortuguÃªs</span></button>
            <button type="button" class="lang-option" data-lang="ru"><span class="lang-flag">ğŸ‡·ğŸ‡º</span><span>Ğ ÑƒÑÑĞºĞ¸Ğ¹</span></button>
            <button type="button" class="lang-option" data-lang="ja"><span class="lang-flag">ğŸ‡¯ğŸ‡µ</span><span>æ—¥æœ¬èª</span></button>
            <button type="button" class="lang-option" data-lang="de"><span class="lang-flag">ğŸ‡©ğŸ‡ª</span><span>Deutsch</span></button>
            <button type="button" class="lang-option" data-lang="ko"><span class="lang-flag">ğŸ‡°ğŸ‡·</span><span>í•œêµ­ì–´</span></button>
            <button type="button" class="lang-option" data-lang="vi"><span class="lang-flag">ğŸ‡»ğŸ‡³</span><span>Tiáº¿ng Viá»‡t</span></button>
            <button type="button" class="lang-option" data-lang="it"><span class="lang-flag">ğŸ‡®ğŸ‡¹</span><span>Italiano</span></button>
            <button type="button" class="lang-option" data-lang="tr"><span class="lang-flag">ğŸ‡¹ğŸ‡·</span><span>TÃ¼rkÃ§e</span></button>
            <button type="button" class="lang-option" data-lang="pl"><span class="lang-flag">ğŸ‡µğŸ‡±</span><span>Polski</span></button>
            <button type="button" class="lang-option" data-lang="uk"><span class="lang-flag">ğŸ‡ºğŸ‡¦</span><span>Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°</span></button>
            <button type="button" class="lang-option" data-lang="nl"><span class="lang-flag">ğŸ‡³ğŸ‡±</span><span>Nederlands</span></button>
            <button type="button" class="lang-option" data-lang="th"><span class="lang-flag">ğŸ‡¹ğŸ‡­</span><span>à¹„à¸—à¸¢</span></button>
            <button type="button" class="lang-option" data-lang="id"><span class="lang-flag">ğŸ‡®ğŸ‡©</span><span>Indonesia</span></button>
          </div>
        </div>
      </div>
      <header class="text-center mb-6 sm:mb-12 mt-10 sm:mt-0">
        <h1 class="text-2xl sm:text-4xl lg:text-5xl font-semibold text-slate-800 dark:text-slate-100 mb-1 sm:mb-2" data-i18n="title">
          Is it worth the time?
        </h1>
        <p class="text-sm sm:text-lg leading-tight text-slate-600 dark:text-slate-300 mx-auto px-2" id="subtitle">
          How much money you can spend automating a task before you're spending more than you save
        </p>
      </header>

      <div class="table-controls">
        <div class="salary-input-container">
          <label for="salary" class="block text-xs sm:text-base text-slate-700 dark:text-slate-300 font-medium mb-1 sm:mb-2" data-i18n="monthlySalary">
            Monthly Salary
          </label>
          <div class="salary-input-wrapper">
            <span class="salary-prefix" id="currency-symbol">{DEFAULT_CURRENCY}</span>
            <input
              type="text"
              id="salary"
              inputmode="numeric"
              value={DEFAULT_SALARY_STR}
              class="salary-input"
              placeholder={DEFAULT_SALARY_STR}
            />
          </div>
        </div>

        <div class="spend-toggle-container">
          <label class="block text-xs sm:text-base text-slate-700 dark:text-slate-300 font-medium mb-1 sm:mb-2" data-i18n="viewAs">View As</label>
          <div class="spend-toggle">
            <button type="button" class="toggle-btn active" data-spend="money" data-i18n="money">Money</button>
            <button type="button" class="toggle-btn" data-spend="time" data-i18n="time">Time</button>
          </div>
        </div>

        <div class="billing-toggle-container">
          <label class="block text-xs sm:text-base text-slate-700 dark:text-slate-300 font-medium mb-1 sm:mb-2" data-i18n="savedPer">Saved Per</label>
          <div class="billing-toggle">
            <button type="button" class="toggle-btn active" data-period="monthly" data-i18n="month">Month</button>
            <button type="button" class="toggle-btn" data-period="annual" data-i18n="year">Year</button>
          </div>
        </div>
      </div>

      <div class="table-container">
        <div class="table-wrapper">
          <table class="time-table">
            <thead>
              <tr>
                <th class="corner-cell">
                  <span class="time-label" data-i18n="timeSaved">Time Saved</span>
                  <span class="freq-label" data-i18n="frequency">Frequency</span>
                </th>
                {frequencies.map((freq, index) => (
                  <th class="freq-header" data-freq-index={index}>{freq.label}</th>
                ))}
              </tr>
            </thead>
            <tbody>
              {timeSavings.map((time, rowIndex) => (
                <tr>
                  <th class="time-header" data-time-index={rowIndex}>{time.label}</th>
                  {frequencies.map((freq, colIndex) => {
                    const cell = preCalculatedData[rowIndex][colIndex];
                    return (
                      <td
                        class={`value-cell ${cell.tier}`}
                        data-freq-multiplier={freq.multiplier}
                        data-time-seconds={time.seconds}
                      >
                        <span class="value" style={`opacity: ${cell.opacity}`}>{cell.text}</span>
                      </td>
                    );
                  })}
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>

      <div class="mt-4 sm:mt-8 text-center text-slate-600 dark:text-slate-400 px-2">
        <p class="text-xs sm:text-sm max-w-xl mx-auto" data-i18n="instructions">
          Each cell shows the value of time saved over a month or year based on task frequency. For example, saving 1 minute daily is worth the equivalent of several hours per month. Based on 2,000 working hours per year (8 hours Ã— 250 days).
        </p>
      </div>
    </div>
  </main>
</Layout>

<style>
  .top-controls {
    position: absolute;
    top: 1rem;
    right: 1rem;
    z-index: 100;
    display: flex;
    gap: 0.5rem;
    align-items: flex-start;
  }

  .currency-switcher {
    position: relative;
  }

  .currency-selector {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.5rem 0.625rem;
    font-size: 0.875rem;
    font-weight: 500;
    border: 1px solid rgb(var(--accent-border));
    background: rgb(var(--bg-surface));
    color: rgb(var(--accent-grey));
    cursor: pointer;
    transition: all 0.15s ease;
    border-radius: 8px;
  }

  .currency-selector:hover {
    background: rgb(var(--bg-grey));
    border-color: rgb(var(--accent-grey-light));
  }

  .currency-symbol-display {
    font-size: 1rem;
    font-weight: 600;
    min-width: 1.25rem;
    text-align: center;
  }

  .currency-code {
    font-size: 0.75rem;
    opacity: 0.7;
  }

  .currency-arrow {
    width: 0.875rem;
    height: 0.875rem;
    transition: transform 0.2s ease;
    opacity: 0.6;
  }

  .currency-switcher.open .currency-arrow {
    transform: rotate(180deg);
  }

  .currency-dropdown {
    position: absolute;
    top: calc(100% + 0.5rem);
    right: 0;
    min-width: 100px;
    max-height: 280px;
    overflow-y: auto;
    background: rgb(var(--bg-surface));
    border: 1px solid rgb(var(--accent-border));
    border-radius: 8px;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.2s ease;
  }

  .currency-switcher.open .currency-dropdown {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  .currency-option {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    width: 100%;
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
    text-align: left;
    border: none;
    background: transparent;
    color: rgb(var(--accent-grey));
    cursor: pointer;
    transition: background-color 0.15s ease;
  }

  .currency-option:first-child {
    border-radius: 7px 7px 0 0;
  }

  .currency-option:last-child {
    border-radius: 0 0 7px 7px;
  }

  .currency-option:hover {
    background: rgb(var(--bg-grey));
  }

  .currency-option.active {
    background: rgb(var(--bg-blue-light));
    color: rgb(var(--accent-blue));
  }

  .currency-sym {
    font-weight: 600;
    min-width: 1.25rem;
    text-align: center;
  }

  .language-switcher {
    position: relative;
  }

  .lang-selector {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
    font-weight: 500;
    border: 1px solid rgb(var(--accent-border));
    background: rgb(var(--bg-surface));
    color: rgb(var(--accent-grey));
    cursor: pointer;
    transition: all 0.15s ease;
    border-radius: 8px;
  }

  .lang-selector:hover {
    background: rgb(var(--bg-grey));
    border-color: rgb(var(--accent-grey-light));
  }

  .lang-flag {
    font-size: 1.125rem;
    line-height: 1;
  }

  .lang-name {
    min-width: 70px;
    text-align: left;
  }

  .lang-arrow {
    width: 1rem;
    height: 1rem;
    transition: transform 0.2s ease;
  }

  .language-switcher.open .lang-arrow {
    transform: rotate(180deg);
  }

  .lang-dropdown {
    position: absolute;
    top: calc(100% + 0.5rem);
    right: 0;
    min-width: 180px;
    max-height: 320px;
    overflow-y: auto;
    background: rgb(var(--bg-surface));
    border: 1px solid rgb(var(--accent-border));
    border-radius: 8px;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.2s ease;
  }

  .language-switcher.open .lang-dropdown {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  .lang-option {
    display: flex;
    align-items: center;
    gap: 0.625rem;
    width: 100%;
    padding: 0.625rem 0.875rem;
    font-size: 0.875rem;
    text-align: left;
    border: none;
    background: transparent;
    color: rgb(var(--accent-grey));
    cursor: pointer;
    transition: background-color 0.15s ease;
  }

  .lang-option:first-child {
    border-radius: 7px 7px 0 0;
  }

  .lang-option:last-child {
    border-radius: 0 0 7px 7px;
  }

  .lang-option:hover {
    background: rgb(var(--bg-grey));
  }

  .lang-option.active {
    background: rgb(var(--bg-blue-light));
    color: rgb(var(--accent-blue));
  }

  .lang-option .lang-flag {
    font-size: 1.25rem;
  }

  .table-controls {
    display: flex;
    justify-content: space-evenly;
    align-items: flex-end;
    margin-bottom: 1rem;
    gap: 1rem;
  }

  .salary-input-container {
    flex-shrink: 0;
  }

  .billing-toggle-container,
  .spend-toggle-container {
    flex-shrink: 0;
  }

  .salary-input-wrapper {
    display: flex;
    align-items: center;
    border: 2px solid rgb(var(--accent-border));
    border-radius: 8px;
    background: rgb(var(--bg-surface));
    overflow: hidden;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
  }

  .salary-input-wrapper:focus-within {
    border-color: rgb(var(--accent-blue));
    box-shadow: 0 0 0 4px rgba(var(--accent-blue), 0.1);
  }

  .salary-input-wrapper input {
    flex: 1;
  }

  .salary-prefix {
    padding-left: 0.75rem;
    font-size: 1rem;
    font-weight: 500;
    color: rgb(var(--accent-grey-light));
    user-select: none;
  }

  .salary-input {
    font-size: 1rem;
    font-weight: 600;
    text-align: left;
    padding: 0.625rem 0.75rem 0.625rem 0.25rem;
    border: none;
    background: transparent;
    color: rgb(var(--accent-grey));
    width: 120px;
    outline: none;
  }

  .billing-toggle,
  .spend-toggle {
    display: flex;
    gap: 0;
  }

  .toggle-btn {
    padding: 0.625rem 1.25rem;
    font-size: 0.875rem;
    font-weight: 500;
    border: 2px solid rgb(var(--accent-border));
    background: rgb(var(--bg-surface));
    color: rgb(var(--accent-grey));
    cursor: pointer;
    transition: all 0.15s ease;
  }

  .toggle-btn:first-child {
    border-radius: 8px 0 0 8px;
    border-right: 1px solid rgb(var(--accent-border));
  }

  .toggle-btn:last-child {
    border-radius: 0 8px 8px 0;
    border-left: 1px solid rgb(var(--accent-border));
  }

  .toggle-btn:hover:not(.active) {
    background: rgb(var(--bg-grey));
  }

  .toggle-btn.active {
    background: rgb(var(--bg-blue-light));
    border-color: rgb(var(--accent-blue), 0.2);
    color: rgb(var(--accent-blue));
  }

  .table-container {
    background: rgb(var(--bg-surface));
    border-radius: 16px;
    box-shadow: var(--box-shadow);
    padding: 1rem;
    overflow: hidden;
  }

  .table-wrapper {
    overflow-x: auto;
    border-radius: 8px;
  }

  .time-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
  }

  .time-table th,
  .time-table td {
    padding: 0.875rem 0.75rem;
    text-align: center;
    font-size: 0.875rem;
  }

  .corner-cell {
    position: relative;
    background: linear-gradient(25deg, rgb(var(--bg-grey)) 0%, rgb(var(--bg-blue-light)) 100%);
    min-width: 95px;
    min-height: 40px;
    overflow: hidden;
  }

  .corner-cell .freq-label,
  .corner-cell .time-label {
    position: absolute;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100%;
  }

  .corner-cell .time-label {
    bottom: 8px;
    left: 8px;
    color: rgb(var(--accent-grey));
  }

  .corner-cell .freq-label {
    top: 8px;
    right: 8px;
    color: rgb(var(--accent-blue));
  }

  .freq-header {
    background: rgb(var(--bg-blue-light));
    color: rgb(var(--accent-blue));
    font-weight: 600;
    white-space: nowrap;
    transition: background-color 0.15s ease, color 0.15s ease;
    min-width: 4rem;
  }

  .freq-header.highlight {
    background: rgb(220, 235, 250);
    //color: white;
  }

  @media (prefers-color-scheme: dark) {
    .freq-header.highlight {
      background: rgb(37, 99, 180);
    }
  }

  .time-header {
    background: rgb(var(--bg-grey));
    color: rgb(var(--accent-grey));
    font-weight: 600;
    text-align: left;
    padding-left: 1rem;
    white-space: nowrap;
    transition: background-color 0.15s ease, color 0.15s ease;
  }

  .time-header.highlight {
    background: rgb(230, 230, 230);
  }

  @media (prefers-color-scheme: dark) {
    .time-header.highlight {
      background: rgb(71, 85, 105);
    }
  }

  .corner-cell, .time-header {
    position: sticky;
    left: 0;
    z-index: 1;
  }

  .value-cell {
    background: rgb(var(--bg-surface));
    transition: background-color 0.15s ease;
  }

  .value-cell:hover {
    background: rgb(var(--bg-blue-light));
  }

  .value-cell .value {
    font-weight: 500;
    color: rgb(var(--accent-grey));
    font-variant-numeric: tabular-nums;
  }

  /* Color coding based on value magnitude */
  .value-cell.tier-1 .value { color: #64748b; }
  .value-cell.tier-2 .value { color: #059669; }
  .value-cell.tier-3 .value { color: #2563eb; }
  .value-cell.tier-4 .value { color: #7c3aed; }
  .value-cell.tier-5 .value { color: #db2777; }

  .value-cell.tier-1 { background: rgba(100, 116, 139, 0.04); }
  .value-cell.tier-2 { background: rgba(5, 150, 105, 0.06); }
  .value-cell.tier-3 { background: rgba(37, 99, 235, 0.06); }
  .value-cell.tier-4 { background: rgba(124, 58, 237, 0.06); }
  .value-cell.tier-5 { background: rgba(219, 39, 119, 0.06); }

  .value-cell.tier-1:hover { background: rgba(100, 116, 139, 0.1); }
  .value-cell.tier-2:hover { background: rgba(5, 150, 105, 0.12); }
  .value-cell.tier-3:hover { background: rgba(37, 99, 235, 0.12); }
  .value-cell.tier-4:hover { background: rgba(124, 58, 237, 0.12); }
  .value-cell.tier-5:hover { background: rgba(219, 39, 119, 0.12); }

  @media (prefers-color-scheme: dark) {
    .value-cell.tier-1 .value { color: #94a3b8; }
    .value-cell.tier-2 .value { color: #34d399; }
    .value-cell.tier-3 .value { color: #60a5fa; }
    .value-cell.tier-4 .value { color: #a78bfa; }
    .value-cell.tier-5 .value { color: #f472b6; }

    .value-cell.tier-1 { background: rgba(148, 163, 184, 0.08); }
    .value-cell.tier-2 { background: rgba(52, 211, 153, 0.1); }
    .value-cell.tier-3 { background: rgba(96, 165, 250, 0.1); }
    .value-cell.tier-4 { background: rgba(167, 139, 250, 0.1); }
    .value-cell.tier-5 { background: rgba(244, 114, 182, 0.1); }

    .value-cell.tier-1:hover { background: rgba(148, 163, 184, 0.15); }
    .value-cell.tier-2:hover { background: rgba(52, 211, 153, 0.18); }
    .value-cell.tier-3:hover { background: rgba(96, 165, 250, 0.18); }
    .value-cell.tier-4:hover { background: rgba(167, 139, 250, 0.18); }
    .value-cell.tier-5:hover { background: rgba(244, 114, 182, 0.18); }
  }

  @media (max-width: 640px) {
    .table-controls {
      flex-direction: column;
      align-items: stretch;
      gap: 1rem;
    }

    .salary-input-container,
    .billing-toggle-container,
    .spend-toggle-container {
      text-align: center;
    }

    .salary-input-container .flex {
      justify-content: center;
    }

    .salary-input {
      padding: 0.3rem 0.75rem 0.3rem 0.25rem;
    }

    .toggle-btn {
      padding: 0.3rem 1.25rem;
    }

    .billing-toggle,
    .spend-toggle {
      justify-content: stretch;
    }

    .billing-toggle button,
    .spend-toggle button {
      flex: 1;
    }

    .table-container {
      padding: 0.5rem;
      border-radius: 12px;
    }

    .salary-input {
      font-size: 1rem;
    }

    .corner-cell .time-label {
      bottom: 4px;
      left: 8px;
    }

    .corner-cell .freq-label {
      top: 4px;
      right: 8px;
    }

    .time-table th,
    .time-table td {
      padding: 0.625rem 0.5rem;
      font-size: 0.75rem;
    }

    .top-controls {
      top: 0.5rem;
      right: 0.5rem;
    }

    .lang-selector {
      padding: 0.375rem 0.5rem;
      font-size: 0.8rem;
      gap: 0.375rem;
    }

    .lang-name {
      min-width: 60px;
    }

    .lang-flag {
      font-size: 1rem;
    }

    .currency-selector {
      padding: 0.375rem 0.5rem;
      font-size: 0.8rem;
    }

    .currency-symbol-display {
      font-size: 0.9rem;
    }

    .currency-code {
      font-size: 0.7rem;
    }
  }

  /* Small phones (iPhone 5/SE - 320px) */
  @media (max-width: 380px) {
    .table-controls {
      gap: 0.75rem;
    }

    .toggle-btn {
      padding: 0.25rem 0.75rem;
      font-size: 0.8rem;
    }

    .salary-input {
      width: 100px;
      font-size: 0.9rem;
    }

    .salary-prefix {
      padding-left: 0.5rem;
      font-size: 0.9rem;
    }

    .table-container {
      padding: 0.25rem;
      border-radius: 8px;
    }

    .time-table th,
    .time-table td {
      padding: 0.5rem 0.35rem;
      font-size: 0.65rem;
    }

    .time-header {
      padding-left: 0.5rem !important;
    }

    .corner-cell {
      min-width: 70px;
    }

    .corner-cell .time-label,
    .corner-cell .freq-label {
      font-size: 0.55rem;
    }

    .corner-cell .time-label {
      bottom: 2px;
      left: 4px;
    }

    .corner-cell .freq-label {
      top: 2px;
      right: 4px;
    }

    .freq-header {
      min-width: 2.5rem;
    }

    .lang-selector {
      padding: 0.25rem 0.375rem;
      font-size: 0.75rem;
    }

    .lang-name {
      display: none;
    }

    .lang-arrow {
      width: 0.875rem;
      height: 0.875rem;
    }

    .lang-dropdown {
      min-width: 150px;
    }

    .currency-selector {
      padding: 0.25rem 0.375rem;
      font-size: 0.75rem;
    }

    .currency-symbol-display {
      font-size: 0.875rem;
      min-width: 1rem;
    }

    .currency-code {
      display: none;
    }

    .currency-arrow {
      width: 0.75rem;
      height: 0.75rem;
    }

    .currency-dropdown {
      min-width: 90px;
    }
  }

  /* Extra small - iPhone 5 exactly (320px) */
  @media (max-width: 320px) {
    .time-table th,
    .time-table td {
      padding: 0.375rem 0.25rem;
      font-size: 0.6rem;
    }

    .corner-cell {
      min-width: 60px;
    }

    .freq-header {
      min-width: 2rem;
    }

    .toggle-btn {
      padding: 0.25rem 0.5rem;
      font-size: 0.75rem;
    }
  }
</style>

<script>
  import { getCellDisplay } from '@lib/calculations';

  // ============================================
  // INTERNATIONALIZATION (i18n)
  // ============================================

  interface Translations {
    title: string;
    subtitleMoney: string;
    subtitleTime: string;
    monthlySalary: string;
    savedPer: string;
    month: string;
    year: string;
    viewAs: string;
    money: string;
    time: string;
    timeSaved: string;
    frequency: string;
    instructions: string;
    // Frequency labels
    freq50day: string;
    freq5day: string;
    freqDaily: string;
    freqWeekly: string;
    freqMonthly: string;
    freqYearly: string;
    // Time labels
    time1sec: string;
    time5sec: string;
    time30sec: string;
    time1min: string;
    time5min: string;
    time30min: string;
    time1hour: string;
    time4hours: string;
    time1day: string;
  }

  const translations: Record<string, Translations> = {
    en: {
      title: 'Is it worth the time?',
      subtitleMoney: 'Find out if automating a task will actually save you money',
      subtitleTime: 'Find out if automating a task will actually save you time',
      monthlySalary: 'Monthly Salary',
      savedPer: 'Saved Per',
      month: 'Month',
      year: 'Year',
      viewAs: 'View As',
      money: 'Money',
      time: 'Time',
      timeSaved: 'Time Saved',
      frequency: 'Frequency',
      instructions: 'Find where your task intersects: how often you do it (columns) and how much time you save each time (rows). The cell shows what that time is worth. If your automation costs less than this, it\'s worth it!',
      freq50day: '50/day',
      freq5day: '5/day',
      freqDaily: 'Daily',
      freqWeekly: 'Weekly',
      freqMonthly: 'Monthly',
      freqYearly: 'Yearly',
      time1sec: '1 second',
      time5sec: '5 seconds',
      time30sec: '30 seconds',
      time1min: '1 minute',
      time5min: '5 minutes',
      time30min: '30 minutes',
      time1hour: '1 hour',
      time4hours: '4 hours',
      time1day: '1 day',
    },
    es: {
      title: 'Â¿Vale la pena el tiempo?',
      subtitleMoney: 'Descubre si automatizar una tarea realmente te ahorrarÃ¡ dinero',
      subtitleTime: 'Descubre si automatizar una tarea realmente te ahorrarÃ¡ tiempo',
      monthlySalary: 'Salario Mensual',
      savedPer: 'Ahorrado Por',
      month: 'Mes',
      year: 'AÃ±o',
      viewAs: 'Ver Como',
      money: 'Dinero',
      time: 'Tiempo',
      timeSaved: 'Tiempo Ahorrado',
      frequency: 'Frecuencia',
      instructions: 'Encuentra la intersecciÃ³n: frecuencia de la tarea (columnas) y tiempo ahorrado cada vez (filas). La celda muestra el valor de ese tiempo. Â¡Si tu automatizaciÃ³n cuesta menos, vale la pena!',
      freq50day: '50/dÃ­a',
      freq5day: '5/dÃ­a',
      freqDaily: 'Diario',
      freqWeekly: 'Semanal',
      freqMonthly: 'Mensual',
      freqYearly: 'Anual',
      time1sec: '1 segundo',
      time5sec: '5 segundos',
      time30sec: '30 segundos',
      time1min: '1 minuto',
      time5min: '5 minutos',
      time30min: '30 minutos',
      time1hour: '1 hora',
      time4hours: '4 horas',
      time1day: '1 dÃ­a',
    },
    fr: {
      title: 'Est-ce que Ã§a vaut le temps?',
      subtitleMoney: 'DÃ©couvrez si automatiser une tÃ¢che vous fera vraiment Ã©conomiser de l\'argent',
      subtitleTime: 'DÃ©couvrez si automatiser une tÃ¢che vous fera vraiment gagner du temps',
      monthlySalary: 'Salaire Mensuel',
      savedPer: 'Ã‰conomisÃ© Par',
      month: 'Mois',
      year: 'An',
      viewAs: 'Afficher En',
      money: 'Argent',
      time: 'Temps',
      timeSaved: 'Temps Ã‰conomisÃ©',
      frequency: 'FrÃ©quence',
      instructions: 'Trouvez l\'intersection: frÃ©quence de la tÃ¢che (colonnes) et temps gagnÃ© Ã  chaque fois (lignes). La cellule indique la valeur de ce temps. Si votre automatisation coÃ»te moins, Ã§a vaut le coup!',
      freq50day: '50/jour',
      freq5day: '5/jour',
      freqDaily: 'Quotidien',
      freqWeekly: 'Hebdo',
      freqMonthly: 'Mensuel',
      freqYearly: 'Annuel',
      time1sec: '1 seconde',
      time5sec: '5 secondes',
      time30sec: '30 secondes',
      time1min: '1 minute',
      time5min: '5 minutes',
      time30min: '30 minutes',
      time1hour: '1 heure',
      time4hours: '4 heures',
      time1day: '1 jour',
    },
    de: {
      title: 'Lohnt sich die Zeit?',
      subtitleMoney: 'Finde heraus, ob die Automatisierung einer Aufgabe dir wirklich Geld spart',
      subtitleTime: 'Finde heraus, ob die Automatisierung einer Aufgabe dir wirklich Zeit spart',
      monthlySalary: 'Monatsgehalt',
      savedPer: 'Gespart Pro',
      month: 'Monat',
      year: 'Jahr',
      viewAs: 'Anzeigen Als',
      money: 'Geld',
      time: 'Zeit',
      timeSaved: 'Gesparte Zeit',
      frequency: 'HÃ¤ufigkeit',
      instructions: 'Finde den Schnittpunkt: HÃ¤ufigkeit der Aufgabe (Spalten) und gesparte Zeit pro Mal (Zeilen). Die Zelle zeigt den Wert dieser Zeit. Wenn deine Automatisierung weniger kostet, lohnt es sich!',
      freq50day: '50/Tag',
      freq5day: '5/Tag',
      freqDaily: 'TÃ¤glich',
      freqWeekly: 'WÃ¶chentlich',
      freqMonthly: 'Monatlich',
      freqYearly: 'JÃ¤hrlich',
      time1sec: '1 Sekunde',
      time5sec: '5 Sekunden',
      time30sec: '30 Sekunden',
      time1min: '1 Minute',
      time5min: '5 Minuten',
      time30min: '30 Minuten',
      time1hour: '1 Stunde',
      time4hours: '4 Stunden',
      time1day: '1 Tag',
    },
    pt: {
      title: 'Vale a pena o tempo?',
      subtitleMoney: 'Descubra se automatizar uma tarefa realmente vai economizar seu dinheiro',
      subtitleTime: 'Descubra se automatizar uma tarefa realmente vai economizar seu tempo',
      monthlySalary: 'SalÃ¡rio Mensal',
      savedPer: 'Economizado Por',
      month: 'MÃªs',
      year: 'Ano',
      viewAs: 'Ver Como',
      money: 'Dinheiro',
      time: 'Tempo',
      timeSaved: 'Tempo Economizado',
      frequency: 'FrequÃªncia',
      instructions: 'Encontre a interseÃ§Ã£o: frequÃªncia da tarefa (colunas) e tempo economizado por vez (linhas). A cÃ©lula mostra o valor desse tempo. Se sua automaÃ§Ã£o custar menos, vale a pena!',
      freq50day: '50/dia',
      freq5day: '5/dia',
      freqDaily: 'DiÃ¡rio',
      freqWeekly: 'Semanal',
      freqMonthly: 'Mensal',
      freqYearly: 'Anual',
      time1sec: '1 segundo',
      time5sec: '5 segundos',
      time30sec: '30 segundos',
      time1min: '1 minuto',
      time5min: '5 minutos',
      time30min: '30 minutos',
      time1hour: '1 hora',
      time4hours: '4 horas',
      time1day: '1 dia',
    },
    zh: {
      title: 'å€¼å¾—èŠ±æ—¶é—´å—ï¼Ÿ',
      subtitleMoney: 'äº†è§£è‡ªåŠ¨åŒ–ä»»åŠ¡æ˜¯å¦çœŸçš„èƒ½å¸®ä½ çœé’±',
      subtitleTime: 'äº†è§£è‡ªåŠ¨åŒ–ä»»åŠ¡æ˜¯å¦çœŸçš„èƒ½å¸®ä½ çœæ—¶é—´',
      monthlySalary: 'æœˆè–ª',
      savedPer: 'èŠ‚çœå‘¨æœŸ',
      month: 'æœˆ',
      year: 'å¹´',
      viewAs: 'æ˜¾ç¤ºä¸º',
      money: 'é‡‘é’±',
      time: 'æ—¶é—´',
      timeSaved: 'èŠ‚çœæ—¶é—´',
      frequency: 'é¢‘ç‡',
      instructions: 'æ‰¾åˆ°äº¤å‰ç‚¹ï¼šä»»åŠ¡é¢‘ç‡ï¼ˆåˆ—ï¼‰å’Œæ¯æ¬¡èŠ‚çœçš„æ—¶é—´ï¼ˆè¡Œï¼‰ã€‚å•å…ƒæ ¼æ˜¾ç¤ºè¯¥æ—¶é—´çš„ä»·å€¼ã€‚å¦‚æœè‡ªåŠ¨åŒ–æˆæœ¬ä½äºæ­¤å€¼ï¼Œå°±å€¼å¾—åšï¼',
      freq50day: '50æ¬¡/å¤©',
      freq5day: '5æ¬¡/å¤©',
      freqDaily: 'æ¯å¤©',
      freqWeekly: 'æ¯å‘¨',
      freqMonthly: 'æ¯æœˆ',
      freqYearly: 'æ¯å¹´',
      time1sec: '1ç§’',
      time5sec: '5ç§’',
      time30sec: '30ç§’',
      time1min: '1åˆ†é’Ÿ',
      time5min: '5åˆ†é’Ÿ',
      time30min: '30åˆ†é’Ÿ',
      time1hour: '1å°æ—¶',
      time4hours: '4å°æ—¶',
      time1day: '1å¤©',
    },
    ja: {
      title: 'æ™‚é–“ã‚’ã‹ã‘ã‚‹ä¾¡å€¤ã¯ã‚ã‚‹ï¼Ÿ',
      subtitleMoney: 'ã‚¿ã‚¹ã‚¯ã®è‡ªå‹•åŒ–ãŒæœ¬å½“ã«ãŠé‡‘ã®ç¯€ç´„ã«ãªã‚‹ã‹ç¢ºèªã—ã‚ˆã†',
      subtitleTime: 'ã‚¿ã‚¹ã‚¯ã®è‡ªå‹•åŒ–ãŒæœ¬å½“ã«æ™‚é–“ã®ç¯€ç´„ã«ãªã‚‹ã‹ç¢ºèªã—ã‚ˆã†',
      monthlySalary: 'æœˆå',
      savedPer: 'ç¯€ç´„å˜ä½',
      month: 'æœˆ',
      year: 'å¹´',
      viewAs: 'è¡¨ç¤ºå½¢å¼',
      money: 'ãŠé‡‘',
      time: 'æ™‚é–“',
      timeSaved: 'ç¯€ç´„æ™‚é–“',
      frequency: 'é »åº¦',
      instructions: 'äº¤å·®ç‚¹ã‚’æ¢ãã†ï¼šã‚¿ã‚¹ã‚¯ã®é »åº¦ï¼ˆåˆ—ï¼‰ã¨1å›ã‚ãŸã‚Šã®ç¯€ç´„æ™‚é–“ï¼ˆè¡Œï¼‰ã€‚ã‚»ãƒ«ã¯ãã®æ™‚é–“ã®ä¾¡å€¤ã‚’ç¤ºã—ã¾ã™ã€‚è‡ªå‹•åŒ–ã‚³ã‚¹ãƒˆãŒã“ã‚Œã‚ˆã‚Šä½ã‘ã‚Œã°ã€ã‚„ã‚‹ä¾¡å€¤ã‚ã‚Šï¼',
      freq50day: '50å›/æ—¥',
      freq5day: '5å›/æ—¥',
      freqDaily: 'æ¯æ—¥',
      freqWeekly: 'æ¯é€±',
      freqMonthly: 'æ¯æœˆ',
      freqYearly: 'æ¯å¹´',
      time1sec: '1ç§’',
      time5sec: '5ç§’',
      time30sec: '30ç§’',
      time1min: '1åˆ†',
      time5min: '5åˆ†',
      time30min: '30åˆ†',
      time1hour: '1æ™‚é–“',
      time4hours: '4æ™‚é–“',
      time1day: '1æ—¥',
    },
    it: {
      title: 'Vale la pena il tempo?',
      subtitleMoney: 'Scopri se automatizzare un\'attivitÃ  ti farÃ  davvero risparmiare denaro',
      subtitleTime: 'Scopri se automatizzare un\'attivitÃ  ti farÃ  davvero risparmiare tempo',
      monthlySalary: 'Stipendio Mensile',
      savedPer: 'Risparmiato Per',
      month: 'Mese',
      year: 'Anno',
      viewAs: 'Visualizza Come',
      money: 'Denaro',
      time: 'Tempo',
      timeSaved: 'Tempo Risparmiato',
      frequency: 'Frequenza',
      instructions: 'Trova l\'intersezione: frequenza dell\'attivitÃ  (colonne) e tempo risparmiato ogni volta (righe). La cella mostra il valore di quel tempo. Se la tua automazione costa meno, ne vale la pena!',
      freq50day: '50/giorno',
      freq5day: '5/giorno',
      freqDaily: 'Giornaliero',
      freqWeekly: 'Settimanale',
      freqMonthly: 'Mensile',
      freqYearly: 'Annuale',
      time1sec: '1 secondo',
      time5sec: '5 secondi',
      time30sec: '30 secondi',
      time1min: '1 minuto',
      time5min: '5 minuti',
      time30min: '30 minuti',
      time1hour: '1 ora',
      time4hours: '4 ore',
      time1day: '1 giorno',
    },
    nl: {
      title: 'Is het de tijd waard?',
      subtitleMoney: 'Ontdek of het automatiseren van een taak je echt geld bespaart',
      subtitleTime: 'Ontdek of het automatiseren van een taak je echt tijd bespaart',
      monthlySalary: 'Maandsalaris',
      savedPer: 'Bespaard Per',
      month: 'Maand',
      year: 'Jaar',
      viewAs: 'Weergeven Als',
      money: 'Geld',
      time: 'Tijd',
      timeSaved: 'Bespaarde Tijd',
      frequency: 'Frequentie',
      instructions: 'Vind het snijpunt: taakfrequentie (kolommen) en bespaarde tijd per keer (rijen). De cel toont de waarde van die tijd. Als je automatisering minder kost, is het de moeite waard!',
      freq50day: '50/dag',
      freq5day: '5/dag',
      freqDaily: 'Dagelijks',
      freqWeekly: 'Wekelijks',
      freqMonthly: 'Maandelijks',
      freqYearly: 'Jaarlijks',
      time1sec: '1 seconde',
      time5sec: '5 seconden',
      time30sec: '30 seconden',
      time1min: '1 minuut',
      time5min: '5 minuten',
      time30min: '30 minuten',
      time1hour: '1 uur',
      time4hours: '4 uur',
      time1day: '1 dag',
    },
    ru: {
      title: 'Ğ¡Ñ‚Ğ¾Ğ¸Ñ‚ Ğ»Ğ¸ ÑÑ‚Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸?',
      subtitleMoney: 'Ğ£Ğ·Ğ½Ğ°Ğ¹Ñ‚Ğµ, Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ»Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ ÑÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ‚ Ğ²Ğ°Ğ¼ Ğ´ĞµĞ½ÑŒĞ³Ğ¸',
      subtitleTime: 'Ğ£Ğ·Ğ½Ğ°Ğ¹Ñ‚Ğµ, Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ»Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ ÑÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ‚ Ğ²Ğ°Ğ¼ Ğ²Ñ€ĞµĞ¼Ñ',
      monthlySalary: 'ĞœĞµÑÑÑ‡Ğ½Ğ°Ñ Ğ·Ğ°Ñ€Ğ¿Ğ»Ğ°Ñ‚Ğ°',
      savedPer: 'Ğ¡ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¾ Ğ·Ğ°',
      month: 'ĞœĞµÑÑÑ†',
      year: 'Ğ“Ğ¾Ğ´',
      viewAs: 'ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ĞºĞ°Ğº',
      money: 'Ğ”ĞµĞ½ÑŒĞ³Ğ¸',
      time: 'Ğ’Ñ€ĞµĞ¼Ñ',
      timeSaved: 'Ğ¡ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ',
      frequency: 'Ğ§Ğ°ÑÑ‚Ğ¾Ñ‚Ğ°',
      instructions: 'ĞĞ°Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ğ¿ĞµÑ€ĞµÑĞµÑ‡ĞµĞ½Ğ¸Ğµ: Ñ‡Ğ°ÑÑ‚Ğ¾Ñ‚Ğ° Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ (ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ñ‹) Ğ¸ ÑÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ·Ğ° Ñ€Ğ°Ğ· (ÑÑ‚Ñ€Ğ¾ĞºĞ¸). Ğ¯Ñ‡ĞµĞ¹ĞºĞ° Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸. Ğ•ÑĞ»Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ¼ĞµĞ½ÑŒÑˆĞµ â€” Ğ¾Ğ½Ğ¾ Ñ‚Ğ¾Ğ³Ğ¾ ÑÑ‚Ğ¾Ğ¸Ñ‚!',
      freq50day: '50/Ğ´ĞµĞ½ÑŒ',
      freq5day: '5/Ğ´ĞµĞ½ÑŒ',
      freqDaily: 'Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ğ¾',
      freqWeekly: 'Ğ•Ğ¶ĞµĞ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¾',
      freqMonthly: 'Ğ•Ğ¶ĞµĞ¼ĞµÑÑÑ‡Ğ½Ğ¾',
      freqYearly: 'Ğ•Ğ¶ĞµĞ³Ğ¾Ğ´Ğ½Ğ¾',
      time1sec: '1 ÑĞµĞºÑƒĞ½Ğ´Ğ°',
      time5sec: '5 ÑĞµĞºÑƒĞ½Ğ´',
      time30sec: '30 ÑĞµĞºÑƒĞ½Ğ´',
      time1min: '1 Ğ¼Ğ¸Ğ½ÑƒÑ‚Ğ°',
      time5min: '5 Ğ¼Ğ¸Ğ½ÑƒÑ‚',
      time30min: '30 Ğ¼Ğ¸Ğ½ÑƒÑ‚',
      time1hour: '1 Ñ‡Ğ°Ñ',
      time4hours: '4 Ñ‡Ğ°ÑĞ°',
      time1day: '1 Ğ´ĞµĞ½ÑŒ',
    },
    hi: {
      title: 'à¤•à¥à¤¯à¤¾ à¤¯à¤¹ à¤¸à¤®à¤¯ à¤•à¥‡ à¤²à¤¾à¤¯à¤• à¤¹à¥ˆ?',
      subtitleMoney: 'à¤œà¤¾à¤¨à¥‡à¤‚ à¤•à¤¿ à¤•à¥à¤¯à¤¾ à¤•à¤¿à¤¸à¥€ à¤•à¤¾à¤°à¥à¤¯ à¤•à¥‹ à¤¸à¥à¤µà¤šà¤¾à¤²à¤¿à¤¤ à¤•à¤°à¤¨à¥‡ à¤¸à¥‡ à¤µà¤¾à¤•à¤ˆ à¤ªà¥ˆà¤¸à¥‡ à¤¬à¤šà¥‡à¤‚à¤—à¥‡',
      subtitleTime: 'à¤œà¤¾à¤¨à¥‡à¤‚ à¤•à¤¿ à¤•à¥à¤¯à¤¾ à¤•à¤¿à¤¸à¥€ à¤•à¤¾à¤°à¥à¤¯ à¤•à¥‹ à¤¸à¥à¤µà¤šà¤¾à¤²à¤¿à¤¤ à¤•à¤°à¤¨à¥‡ à¤¸à¥‡ à¤µà¤¾à¤•à¤ˆ à¤¸à¤®à¤¯ à¤¬à¤šà¥‡à¤—à¤¾',
      monthlySalary: 'à¤®à¤¾à¤¸à¤¿à¤• à¤µà¥‡à¤¤à¤¨',
      savedPer: 'à¤¬à¤šà¤¤ à¤ªà¥à¤°à¤¤à¤¿',
      month: 'à¤®à¤¹à¥€à¤¨à¤¾',
      year: 'à¤µà¤°à¥à¤·',
      viewAs: 'à¤•à¥‡ à¤°à¥‚à¤ª à¤®à¥‡à¤‚ à¤¦à¥‡à¤–à¥‡à¤‚',
      money: 'à¤ªà¥ˆà¤¸à¤¾',
      time: 'à¤¸à¤®à¤¯',
      timeSaved: 'à¤¬à¤šà¤¾à¤¯à¤¾ à¤—à¤¯à¤¾ à¤¸à¤®à¤¯',
      frequency: 'à¤†à¤µà¥ƒà¤¤à¥à¤¤à¤¿',
      instructions: 'à¤ªà¥à¤°à¤¤à¤¿à¤šà¥à¤›à¥‡à¤¦à¤¨ à¤–à¥‹à¤œà¥‡à¤‚: à¤•à¤¾à¤°à¥à¤¯ à¤•à¥€ à¤†à¤µà¥ƒà¤¤à¥à¤¤à¤¿ (à¤•à¥‰à¤²à¤®) à¤”à¤° à¤¹à¤° à¤¬à¤¾à¤° à¤¬à¤šà¤¾à¤¯à¤¾ à¤—à¤¯à¤¾ à¤¸à¤®à¤¯ (à¤ªà¤‚à¤•à¥à¤¤à¤¿à¤¯à¤¾à¤)à¥¤ à¤¸à¥‡à¤² à¤‰à¤¸ à¤¸à¤®à¤¯ à¤•à¤¾ à¤®à¥‚à¤²à¥à¤¯ à¤¦à¤¿à¤–à¤¾à¤¤à¤¾ à¤¹à¥ˆà¥¤ à¤…à¤—à¤° à¤¸à¥à¤µà¤šà¤¾à¤²à¤¨ à¤•à¥€ à¤²à¤¾à¤—à¤¤ à¤•à¤® à¤¹à¥ˆ, à¤¤à¥‹ à¤¯à¤¹ à¤¸à¤¾à¤°à¥à¤¥à¤• à¤¹à¥ˆ!',
      freq50day: '50/à¤¦à¤¿à¤¨',
      freq5day: '5/à¤¦à¤¿à¤¨',
      freqDaily: 'à¤¦à¥ˆà¤¨à¤¿à¤•',
      freqWeekly: 'à¤¸à¤¾à¤ªà¥à¤¤à¤¾à¤¹à¤¿à¤•',
      freqMonthly: 'à¤®à¤¾à¤¸à¤¿à¤•',
      freqYearly: 'à¤µà¤¾à¤°à¥à¤·à¤¿à¤•',
      time1sec: '1 à¤¸à¥‡à¤•à¤‚à¤¡',
      time5sec: '5 à¤¸à¥‡à¤•à¤‚à¤¡',
      time30sec: '30 à¤¸à¥‡à¤•à¤‚à¤¡',
      time1min: '1 à¤®à¤¿à¤¨à¤Ÿ',
      time5min: '5 à¤®à¤¿à¤¨à¤Ÿ',
      time30min: '30 à¤®à¤¿à¤¨à¤Ÿ',
      time1hour: '1 à¤˜à¤‚à¤Ÿà¤¾',
      time4hours: '4 à¤˜à¤‚à¤Ÿà¥‡',
      time1day: '1 à¤¦à¤¿à¤¨',
    },
    ar: {
      title: 'Ù‡Ù„ ÙŠØ³ØªØ­Ù‚ Ø§Ù„ÙˆÙ‚ØªØŸ',
      subtitleMoney: 'Ø§ÙƒØªØ´Ù Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø£ØªÙ…ØªØ© Ù…Ù‡Ù…Ø© Ø³ØªÙˆÙØ± Ù„Ùƒ Ø§Ù„Ù…Ø§Ù„ ÙØ¹Ù„Ø§Ù‹',
      subtitleTime: 'Ø§ÙƒØªØ´Ù Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø£ØªÙ…ØªØ© Ù…Ù‡Ù…Ø© Ø³ØªÙˆÙØ± Ù„Ùƒ Ø§Ù„ÙˆÙ‚Øª ÙØ¹Ù„Ø§Ù‹',
      monthlySalary: 'Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø´Ù‡Ø±ÙŠ',
      savedPer: 'Ø§Ù„ØªÙˆÙÙŠØ± Ù„ÙƒÙ„',
      month: 'Ø´Ù‡Ø±',
      year: 'Ø³Ù†Ø©',
      viewAs: 'Ø¹Ø±Ø¶ ÙƒÙ€',
      money: 'Ù…Ø§Ù„',
      time: 'ÙˆÙ‚Øª',
      timeSaved: 'Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙˆÙØ±',
      frequency: 'Ø§Ù„ØªÙƒØ±Ø§Ø±',
      instructions: 'Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ØªÙ‚Ø§Ø·Ø¹: ØªÙƒØ±Ø§Ø± Ø§Ù„Ù…Ù‡Ù…Ø© (Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©) ÙˆØ§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙˆÙØ± ÙÙŠ ÙƒÙ„ Ù…Ø±Ø© (Ø§Ù„ØµÙÙˆÙ). ØªÙØ¸Ù‡Ø± Ø§Ù„Ø®Ù„ÙŠØ© Ù‚ÙŠÙ…Ø© Ø°Ù„Ùƒ Ø§Ù„ÙˆÙ‚Øª. Ø¥Ø°Ø§ ÙƒØ§Ù†Øª ØªÙƒÙ„ÙØ© Ø§Ù„Ø£ØªÙ…ØªØ© Ø£Ù‚Ù„ØŒ ÙÙ‡ÙŠ ØªØ³ØªØ­Ù‚!',
      freq50day: '50/ÙŠÙˆÙ…',
      freq5day: '5/ÙŠÙˆÙ…',
      freqDaily: 'ÙŠÙˆÙ…ÙŠØ§Ù‹',
      freqWeekly: 'Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹',
      freqMonthly: 'Ø´Ù‡Ø±ÙŠØ§Ù‹',
      freqYearly: 'Ø³Ù†ÙˆÙŠØ§Ù‹',
      time1sec: '1 Ø«Ø§Ù†ÙŠØ©',
      time5sec: '5 Ø«ÙˆØ§Ù†ÙŠ',
      time30sec: '30 Ø«Ø§Ù†ÙŠØ©',
      time1min: '1 Ø¯Ù‚ÙŠÙ‚Ø©',
      time5min: '5 Ø¯Ù‚Ø§Ø¦Ù‚',
      time30min: '30 Ø¯Ù‚ÙŠÙ‚Ø©',
      time1hour: '1 Ø³Ø§Ø¹Ø©',
      time4hours: '4 Ø³Ø§Ø¹Ø§Øª',
      time1day: '1 ÙŠÙˆÙ…',
    },
    bn: {
      title: 'à¦à¦Ÿà¦¾ à¦•à¦¿ à¦¸à¦®à¦¯à¦¼à§‡à¦° à¦®à§‚à¦²à§à¦¯?',
      subtitleMoney: 'à¦œà¦¾à¦¨à§à¦¨ à¦à¦•à¦Ÿà¦¿ à¦•à¦¾à¦œ à¦¸à§à¦¬à¦¯à¦¼à¦‚à¦•à§à¦°à¦¿à¦¯à¦¼ à¦•à¦°à¦²à§‡ à¦¸à¦¤à§à¦¯à¦¿à¦‡ à¦Ÿà¦¾à¦•à¦¾ à¦¬à¦¾à¦à¦šà¦¬à§‡ à¦•à¦¿à¦¨à¦¾',
      subtitleTime: 'à¦œà¦¾à¦¨à§à¦¨ à¦à¦•à¦Ÿà¦¿ à¦•à¦¾à¦œ à¦¸à§à¦¬à¦¯à¦¼à¦‚à¦•à§à¦°à¦¿à¦¯à¦¼ à¦•à¦°à¦²à§‡ à¦¸à¦¤à§à¦¯à¦¿à¦‡ à¦¸à¦®à¦¯à¦¼ à¦¬à¦¾à¦à¦šà¦¬à§‡ à¦•à¦¿à¦¨à¦¾',
      monthlySalary: 'à¦®à¦¾à¦¸à¦¿à¦• à¦¬à§‡à¦¤à¦¨',
      savedPer: 'à¦ªà§à¦°à¦¤à¦¿ à¦¸à¦à§à¦šà¦¯à¦¼',
      month: 'à¦®à¦¾à¦¸',
      year: 'à¦¬à¦›à¦°',
      viewAs: 'à¦¹à¦¿à¦¸à¦¾à¦¬à§‡ à¦¦à§‡à¦–à§à¦¨',
      money: 'à¦Ÿà¦¾à¦•à¦¾',
      time: 'à¦¸à¦®à¦¯à¦¼',
      timeSaved: 'à¦¸à¦à§à¦šà¦¿à¦¤ à¦¸à¦®à¦¯à¦¼',
      frequency: 'à¦«à§à¦°à¦¿à¦•à§‹à¦¯à¦¼à§‡à¦¨à§à¦¸à¦¿',
      instructions: 'à¦›à§‡à¦¦à¦¬à¦¿à¦¨à§à¦¦à§ à¦–à§à¦à¦œà§à¦¨: à¦•à¦¾à¦œà§‡à¦° à¦«à§à¦°à¦¿à¦•à§‹à¦¯à¦¼à§‡à¦¨à§à¦¸à¦¿ (à¦•à¦²à¦¾à¦®) à¦à¦¬à¦‚ à¦ªà§à¦°à¦¤à¦¿à¦¬à¦¾à¦° à¦¸à¦à§à¦šà¦¿à¦¤ à¦¸à¦®à¦¯à¦¼ (à¦¸à¦¾à¦°à¦¿)à¥¤ à¦¸à§‡à¦² à¦¸à§‡à¦‡ à¦¸à¦®à¦¯à¦¼à§‡à¦° à¦®à§‚à¦²à§à¦¯ à¦¦à§‡à¦–à¦¾à¦¯à¦¼à¥¤ à¦…à¦Ÿà§‹à¦®à§‡à¦¶à¦¨à§‡à¦° à¦–à¦°à¦š à¦•à¦® à¦¹à¦²à§‡, à¦à¦Ÿà¦¾ à¦®à§‚à¦²à§à¦¯à¦¬à¦¾à¦¨!',
      freq50day: '50/à¦¦à¦¿à¦¨',
      freq5day: '5/à¦¦à¦¿à¦¨',
      freqDaily: 'à¦¦à§ˆà¦¨à¦¿à¦•',
      freqWeekly: 'à¦¸à¦¾à¦ªà§à¦¤à¦¾à¦¹à¦¿à¦•',
      freqMonthly: 'à¦®à¦¾à¦¸à¦¿à¦•',
      freqYearly: 'à¦¬à¦¾à¦°à§à¦·à¦¿à¦•',
      time1sec: '1 à¦¸à§‡à¦•à§‡à¦¨à§à¦¡',
      time5sec: '5 à¦¸à§‡à¦•à§‡à¦¨à§à¦¡',
      time30sec: '30 à¦¸à§‡à¦•à§‡à¦¨à§à¦¡',
      time1min: '1 à¦®à¦¿à¦¨à¦¿à¦Ÿ',
      time5min: '5 à¦®à¦¿à¦¨à¦¿à¦Ÿ',
      time30min: '30 à¦®à¦¿à¦¨à¦¿à¦Ÿ',
      time1hour: '1 à¦˜à¦£à§à¦Ÿà¦¾',
      time4hours: '4 à¦˜à¦£à§à¦Ÿà¦¾',
      time1day: '1 à¦¦à¦¿à¦¨',
    },
    ko: {
      title: 'ì‹œê°„ì„ ë“¤ì¼ ê°€ì¹˜ê°€ ìˆì„ê¹Œ?',
      subtitleMoney: 'ì‘ì—… ìë™í™”ê°€ ì •ë§ ëˆì„ ì ˆì•½í•´ ì£¼ëŠ”ì§€ ì•Œì•„ë³´ì„¸ìš”',
      subtitleTime: 'ì‘ì—… ìë™í™”ê°€ ì •ë§ ì‹œê°„ì„ ì ˆì•½í•´ ì£¼ëŠ”ì§€ ì•Œì•„ë³´ì„¸ìš”',
      monthlySalary: 'ì›”ê¸‰',
      savedPer: 'ì ˆì•½ ê¸°ì¤€',
      month: 'ì›”',
      year: 'ë…„',
      viewAs: 'ë³´ê¸° í˜•ì‹',
      money: 'ê¸ˆì•¡',
      time: 'ì‹œê°„',
      timeSaved: 'ì ˆì•½ëœ ì‹œê°„',
      frequency: 'ë¹ˆë„',
      instructions: 'êµì°¨ì ì„ ì°¾ìœ¼ì„¸ìš”: ì‘ì—… ë¹ˆë„(ì—´)ì™€ ë§¤ë²ˆ ì ˆì•½ë˜ëŠ” ì‹œê°„(í–‰). ì…€ì€ ê·¸ ì‹œê°„ì˜ ê°€ì¹˜ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. ìë™í™” ë¹„ìš©ì´ ì´ë³´ë‹¤ ì ìœ¼ë©´ ê°€ì¹˜ê°€ ìˆìŠµë‹ˆë‹¤!',
      freq50day: '50íšŒ/ì¼',
      freq5day: '5íšŒ/ì¼',
      freqDaily: 'ë§¤ì¼',
      freqWeekly: 'ë§¤ì£¼',
      freqMonthly: 'ë§¤ì›”',
      freqYearly: 'ë§¤ë…„',
      time1sec: '1ì´ˆ',
      time5sec: '5ì´ˆ',
      time30sec: '30ì´ˆ',
      time1min: '1ë¶„',
      time5min: '5ë¶„',
      time30min: '30ë¶„',
      time1hour: '1ì‹œê°„',
      time4hours: '4ì‹œê°„',
      time1day: '1ì¼',
    },
    vi: {
      title: 'CÃ³ Ä‘Ã¡ng Ä‘á»ƒ bá» thá»i gian?',
      subtitleMoney: 'TÃ¬m hiá»ƒu xem tá»± Ä‘á»™ng hÃ³a cÃ´ng viá»‡c cÃ³ thá»±c sá»± tiáº¿t kiá»‡m tiá»n khÃ´ng',
      subtitleTime: 'TÃ¬m hiá»ƒu xem tá»± Ä‘á»™ng hÃ³a cÃ´ng viá»‡c cÃ³ thá»±c sá»± tiáº¿t kiá»‡m thá»i gian khÃ´ng',
      monthlySalary: 'LÆ°Æ¡ng hÃ ng thÃ¡ng',
      savedPer: 'Tiáº¿t kiá»‡m má»—i',
      month: 'ThÃ¡ng',
      year: 'NÄƒm',
      viewAs: 'Xem dÆ°á»›i dáº¡ng',
      money: 'Tiá»n',
      time: 'Thá»i gian',
      timeSaved: 'Thá»i gian tiáº¿t kiá»‡m',
      frequency: 'Táº§n suáº¥t',
      instructions: 'TÃ¬m giao Ä‘iá»ƒm: táº§n suáº¥t cÃ´ng viá»‡c (cá»™t) vÃ  thá»i gian tiáº¿t kiá»‡m má»—i láº§n (hÃ ng). Ã” hiá»ƒn thá»‹ giÃ¡ trá»‹ thá»i gian Ä‘Ã³. Náº¿u chi phÃ­ tá»± Ä‘á»™ng hÃ³a tháº¥p hÆ¡n, nÃ³ Ä‘Ã¡ng giÃ¡!',
      freq50day: '50/ngÃ y',
      freq5day: '5/ngÃ y',
      freqDaily: 'HÃ ng ngÃ y',
      freqWeekly: 'HÃ ng tuáº§n',
      freqMonthly: 'HÃ ng thÃ¡ng',
      freqYearly: 'HÃ ng nÄƒm',
      time1sec: '1 giÃ¢y',
      time5sec: '5 giÃ¢y',
      time30sec: '30 giÃ¢y',
      time1min: '1 phÃºt',
      time5min: '5 phÃºt',
      time30min: '30 phÃºt',
      time1hour: '1 giá»',
      time4hours: '4 giá»',
      time1day: '1 ngÃ y',
    },
    tr: {
      title: 'Zaman harcamaya deÄŸer mi?',
      subtitleMoney: 'Bir gÃ¶revi otomatikleÅŸtirmenin gerÃ§ekten para tasarrufu saÄŸlayÄ±p saÄŸlamayacaÄŸÄ±nÄ± Ã¶ÄŸrenin',
      subtitleTime: 'Bir gÃ¶revi otomatikleÅŸtirmenin gerÃ§ekten zaman tasarrufu saÄŸlayÄ±p saÄŸlamayacaÄŸÄ±nÄ± Ã¶ÄŸrenin',
      monthlySalary: 'AylÄ±k MaaÅŸ',
      savedPer: 'Tasarruf BaÅŸÄ±na',
      month: 'Ay',
      year: 'YÄ±l',
      viewAs: 'GÃ¶rÃ¼nÃ¼m',
      money: 'Para',
      time: 'Zaman',
      timeSaved: 'Tasarruf Edilen Zaman',
      frequency: 'SÄ±klÄ±k',
      instructions: 'KesiÅŸim noktasÄ±nÄ± bulun: gÃ¶rev sÄ±klÄ±ÄŸÄ± (sÃ¼tunlar) ve her seferinde tasarruf edilen zaman (satÄ±rlar). HÃ¼cre o zamanÄ±n deÄŸerini gÃ¶sterir. Otomasyon maliyeti bundan azsa, buna deÄŸer!',
      freq50day: '50/gÃ¼n',
      freq5day: '5/gÃ¼n',
      freqDaily: 'GÃ¼nlÃ¼k',
      freqWeekly: 'HaftalÄ±k',
      freqMonthly: 'AylÄ±k',
      freqYearly: 'YÄ±llÄ±k',
      time1sec: '1 saniye',
      time5sec: '5 saniye',
      time30sec: '30 saniye',
      time1min: '1 dakika',
      time5min: '5 dakika',
      time30min: '30 dakika',
      time1hour: '1 saat',
      time4hours: '4 saat',
      time1day: '1 gÃ¼n',
    },
    pl: {
      title: 'Czy warto poÅ›wiÄ™ciÄ‡ czas?',
      subtitleMoney: 'SprawdÅº, czy automatyzacja zadania naprawdÄ™ zaoszczÄ™dzi Ci pieniÄ…dze',
      subtitleTime: 'SprawdÅº, czy automatyzacja zadania naprawdÄ™ zaoszczÄ™dzi Ci czas',
      monthlySalary: 'MiesiÄ™czna pensja',
      savedPer: 'OszczÄ™dnoÅ›Ä‡ na',
      month: 'MiesiÄ…c',
      year: 'Rok',
      viewAs: 'PokaÅ¼ jako',
      money: 'PieniÄ…dze',
      time: 'Czas',
      timeSaved: 'ZaoszczÄ™dzony czas',
      frequency: 'CzÄ™stotliwoÅ›Ä‡',
      instructions: 'ZnajdÅº przeciÄ™cie: czÄ™stotliwoÅ›Ä‡ zadania (kolumny) i zaoszczÄ™dzony czas za kaÅ¼dym razem (wiersze). KomÃ³rka pokazuje wartoÅ›Ä‡ tego czasu. JeÅ›li automatyzacja kosztuje mniej, warto!',
      freq50day: '50/dzieÅ„',
      freq5day: '5/dzieÅ„',
      freqDaily: 'Codziennie',
      freqWeekly: 'Tygodniowo',
      freqMonthly: 'MiesiÄ™cznie',
      freqYearly: 'Rocznie',
      time1sec: '1 sekunda',
      time5sec: '5 sekund',
      time30sec: '30 sekund',
      time1min: '1 minuta',
      time5min: '5 minut',
      time30min: '30 minut',
      time1hour: '1 godzina',
      time4hours: '4 godziny',
      time1day: '1 dzieÅ„',
    },
    uk: {
      title: 'Ğ§Ğ¸ Ğ²Ğ°Ñ€Ñ‚Ğ¾ Ñ†Ğµ Ñ‡Ğ°ÑÑƒ?',
      subtitleMoney: 'Ğ”Ñ–Ğ·Ğ½Ğ°Ğ¹Ñ‚ĞµÑÑ, Ñ‡Ğ¸ ÑĞ¿Ñ€Ğ°Ğ²Ğ´Ñ– Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ Ğ·Ğ°Ğ¾Ñ‰Ğ°Ğ´Ğ¸Ñ‚ÑŒ Ğ²Ğ°Ğ¼ Ğ³Ñ€Ğ¾ÑˆÑ–',
      subtitleTime: 'Ğ”Ñ–Ğ·Ğ½Ğ°Ğ¹Ñ‚ĞµÑÑ, Ñ‡Ğ¸ ÑĞ¿Ñ€Ğ°Ğ²Ğ´Ñ– Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ Ğ·Ğ°Ğ¾Ñ‰Ğ°Ğ´Ğ¸Ñ‚ÑŒ Ğ²Ğ°Ğ¼ Ñ‡Ğ°Ñ',
      monthlySalary: 'ĞœÑ–ÑÑÑ‡Ğ½Ğ° Ğ·Ğ°Ñ€Ğ¿Ğ»Ğ°Ñ‚Ğ°',
      savedPer: 'Ğ—Ğ°Ğ¾Ñ‰Ğ°Ğ´Ğ¶ĞµĞ½Ğ¾ Ğ·Ğ°',
      month: 'ĞœÑ–ÑÑÑ†ÑŒ',
      year: 'Ğ Ñ–Ğº',
      viewAs: 'ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸ ÑĞº',
      money: 'Ğ“Ñ€Ğ¾ÑˆÑ–',
      time: 'Ğ§Ğ°Ñ',
      timeSaved: 'Ğ—Ğ°Ğ¾Ñ‰Ğ°Ğ´Ğ¶ĞµĞ½Ğ¸Ğ¹ Ñ‡Ğ°Ñ',
      frequency: 'Ğ§Ğ°ÑÑ‚Ğ¾Ñ‚Ğ°',
      instructions: 'Ğ—Ğ½Ğ°Ğ¹Ğ´Ñ–Ñ‚ÑŒ Ğ¿ĞµÑ€ĞµÑ‚Ğ¸Ğ½: Ñ‡Ğ°ÑÑ‚Ğ¾Ñ‚Ğ° Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ (ÑÑ‚Ğ¾Ğ²Ğ¿Ñ†Ñ–) Ñ‚Ğ° Ğ·Ğ°Ğ¾Ñ‰Ğ°Ğ´Ğ¶ĞµĞ½Ğ¸Ğ¹ Ñ‡Ğ°Ñ Ğ·Ğ° Ñ€Ğ°Ğ· (Ñ€ÑĞ´ĞºĞ¸). ĞšĞ¾Ğ¼Ñ–Ñ€ĞºĞ° Ğ¿Ğ¾ĞºĞ°Ğ·ÑƒÑ” Ñ†Ñ–Ğ½Ğ½Ñ–ÑÑ‚ÑŒ Ñ†ÑŒĞ¾Ğ³Ğ¾ Ñ‡Ğ°ÑÑƒ. Ğ¯ĞºÑ‰Ğ¾ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ ĞºĞ¾ÑˆÑ‚ÑƒÑ” Ğ¼ĞµĞ½ÑˆĞµ â€” Ğ²Ğ¾Ğ½Ğ¾ Ñ‚Ğ¾Ğ³Ğ¾ Ğ²Ğ°Ñ€Ñ‚Ğµ!',
      freq50day: '50/Ğ´ĞµĞ½ÑŒ',
      freq5day: '5/Ğ´ĞµĞ½ÑŒ',
      freqDaily: 'Ğ©Ğ¾Ğ´Ğ½Ñ',
      freqWeekly: 'Ğ©Ğ¾Ñ‚Ğ¸Ğ¶Ğ½Ñ',
      freqMonthly: 'Ğ©Ğ¾Ğ¼Ñ–ÑÑÑ†Ñ',
      freqYearly: 'Ğ©Ğ¾Ñ€Ğ¾ĞºÑƒ',
      time1sec: '1 ÑĞµĞºÑƒĞ½Ğ´Ğ°',
      time5sec: '5 ÑĞµĞºÑƒĞ½Ğ´',
      time30sec: '30 ÑĞµĞºÑƒĞ½Ğ´',
      time1min: '1 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½Ğ°',
      time5min: '5 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½',
      time30min: '30 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½',
      time1hour: '1 Ğ³Ğ¾Ğ´Ğ¸Ğ½Ğ°',
      time4hours: '4 Ğ³Ğ¾Ğ´Ğ¸Ğ½Ğ¸',
      time1day: '1 Ğ´ĞµĞ½ÑŒ',
    },
    th: {
      title: 'à¸„à¸¸à¹‰à¸¡à¸„à¹ˆà¸²à¸à¸±à¸šà¹€à¸§à¸¥à¸²à¹„à¸«à¸¡?',
      subtitleMoney: 'à¸”à¸¹à¸§à¹ˆà¸²à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¸ˆà¸°à¸Šà¹ˆà¸§à¸¢à¸›à¸£à¸°à¸«à¸¢à¸±à¸”à¹€à¸‡à¸´à¸™à¸ˆà¸£à¸´à¸‡à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ',
      subtitleTime: 'à¸”à¸¹à¸§à¹ˆà¸²à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¸ˆà¸°à¸Šà¹ˆà¸§à¸¢à¸›à¸£à¸°à¸«à¸¢à¸±à¸”à¹€à¸§à¸¥à¸²à¸ˆà¸£à¸´à¸‡à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ',
      monthlySalary: 'à¹€à¸‡à¸´à¸™à¹€à¸”à¸·à¸­à¸™',
      savedPer: 'à¸›à¸£à¸°à¸«à¸¢à¸±à¸”à¸•à¹ˆà¸­',
      month: 'à¹€à¸”à¸·à¸­à¸™',
      year: 'à¸›à¸µ',
      viewAs: 'à¹à¸ªà¸”à¸‡à¹€à¸›à¹‡à¸™',
      money: 'à¹€à¸‡à¸´à¸™',
      time: 'à¹€à¸§à¸¥à¸²',
      timeSaved: 'à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸›à¸£à¸°à¸«à¸¢à¸±à¸”à¹„à¸”à¹‰',
      frequency: 'à¸„à¸§à¸²à¸¡à¸–à¸µà¹ˆ',
      instructions: 'à¸«à¸²à¸ˆà¸¸à¸”à¸•à¸±à¸”: à¸„à¸§à¸²à¸¡à¸–à¸µà¹ˆà¸‚à¸­à¸‡à¸‡à¸²à¸™ (à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œ) à¹à¸¥à¸°à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸›à¸£à¸°à¸«à¸¢à¸±à¸”à¹„à¸”à¹‰à¹à¸•à¹ˆà¸¥à¸°à¸„à¸£à¸±à¹‰à¸‡ (à¹à¸–à¸§) à¹€à¸‹à¸¥à¸¥à¹Œà¹à¸ªà¸”à¸‡à¸¡à¸¹à¸¥à¸„à¹ˆà¸²à¸‚à¸­à¸‡à¹€à¸§à¸¥à¸²à¸™à¸±à¹‰à¸™ à¸–à¹‰à¸²à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¸™à¹‰à¸­à¸¢à¸à¸§à¹ˆà¸²à¸™à¸µà¹‰ à¸„à¸¸à¹‰à¸¡à¸„à¹ˆà¸²!',
      freq50day: '50/à¸§à¸±à¸™',
      freq5day: '5/à¸§à¸±à¸™',
      freqDaily: 'à¸—à¸¸à¸à¸§à¸±à¸™',
      freqWeekly: 'à¸—à¸¸à¸à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ',
      freqMonthly: 'à¸—à¸¸à¸à¹€à¸”à¸·à¸­à¸™',
      freqYearly: 'à¸—à¸¸à¸à¸›à¸µ',
      time1sec: '1 à¸§à¸´à¸™à¸²à¸—à¸µ',
      time5sec: '5 à¸§à¸´à¸™à¸²à¸—à¸µ',
      time30sec: '30 à¸§à¸´à¸™à¸²à¸—à¸µ',
      time1min: '1 à¸™à¸²à¸—à¸µ',
      time5min: '5 à¸™à¸²à¸—à¸µ',
      time30min: '30 à¸™à¸²à¸—à¸µ',
      time1hour: '1 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡',
      time4hours: '4 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡',
      time1day: '1 à¸§à¸±à¸™',
    },
    id: {
      title: 'Apakah sepadan dengan waktunya?',
      subtitleMoney: 'Cari tahu apakah mengotomatisasi tugas benar-benar akan menghemat uang Anda',
      subtitleTime: 'Cari tahu apakah mengotomatisasi tugas benar-benar akan menghemat waktu Anda',
      monthlySalary: 'Gaji Bulanan',
      savedPer: 'Hemat Per',
      month: 'Bulan',
      year: 'Tahun',
      viewAs: 'Lihat Sebagai',
      money: 'Uang',
      time: 'Waktu',
      timeSaved: 'Waktu Dihemat',
      frequency: 'Frekuensi',
      instructions: 'Temukan titik perpotongan: frekuensi tugas (kolom) dan waktu yang dihemat setiap kali (baris). Sel menunjukkan nilai waktu tersebut. Jika biaya otomatisasi lebih rendah, itu sepadan!',
      freq50day: '50/hari',
      freq5day: '5/hari',
      freqDaily: 'Harian',
      freqWeekly: 'Mingguan',
      freqMonthly: 'Bulanan',
      freqYearly: 'Tahunan',
      time1sec: '1 detik',
      time5sec: '5 detik',
      time30sec: '30 detik',
      time1min: '1 menit',
      time5min: '5 menit',
      time30min: '30 menit',
      time1hour: '1 jam',
      time4hours: '4 jam',
      time1day: '1 hari',
    },
  };

  // Get saved language or detect from browser
  function getSavedLanguage(): string {
    const saved = localStorage.getItem('language');
    if (saved && translations[saved]) {
      return saved;
    }
    const browserLang = (navigator.language || 'en').split('-')[0];
    return translations[browserLang] ? browserLang : 'en';
  }

  let currentLang = getSavedLanguage();
  let t = translations[currentLang];

  // Get currency symbol for display in salary input
  function getCurrencySymbol(currency: string): string {
    const symbols: Record<string, string> = {
      'USD': '$', 'CAD': '$', 'MXN': '$',
      'ARS': '$', 'CLP': '$', 'COP': '$',
      'BRL': 'R$',
      'GBP': 'Â£', 'EUR': 'â‚¬', 'CHF': 'Fr',
      'JPY': 'Â¥', 'CNY': 'Â¥', 'TWD': '$',
      'HKD': 'HK$', 'SGD': 'S$',
      'RUB': 'â‚½', 'UAH': 'â‚´',
      'INR': 'â‚¹', 'BDT': 'à§³',
      'SAR': 'ï·¼', 'AED': 'Ø¯.Ø¥',
      'KRW': 'â‚©', 'VND': 'â‚«',
      'TRY': 'â‚º', 'PLN': 'zÅ‚',
      'THB': 'à¸¿', 'IDR': 'Rp',
      'AUD': '$', 'NZD': '$',
      'SEK': 'kr', 'NOK': 'kr', 'DKK': 'kr',
      'ZAR': 'R', 'MYR': 'RM',
    };
    return symbols[currency] || '$';
  }

  // Get user's region/country from browser locale (e.g., "en-US" â†’ "US")
  function getUserRegion(): string {
    const locale = navigator.language || 'en-US';
    const parts = locale.split('-');
    return parts.length > 1 ? parts[1].toUpperCase() : '';
  }

  // Map country/region codes to currencies
  function getCurrencyForRegion(region: string): string {
    const regionCurrency: Record<string, string> = {
      // Americas
      'US': 'USD', 'CA': 'CAD', 'MX': 'MXN', 'BR': 'BRL',
      'AR': 'ARS', 'CL': 'CLP', 'CO': 'COP',
      // Europe
      'GB': 'GBP', 'UK': 'GBP',
      'DE': 'EUR', 'FR': 'EUR', 'IT': 'EUR', 'ES': 'EUR', 'NL': 'EUR',
      'BE': 'EUR', 'AT': 'EUR', 'IE': 'EUR', 'PT': 'EUR', 'FI': 'EUR',
      'GR': 'EUR', 'LU': 'EUR', 'SK': 'EUR', 'SI': 'EUR', 'EE': 'EUR',
      'LV': 'EUR', 'LT': 'EUR', 'CY': 'EUR', 'MT': 'EUR',
      'CH': 'CHF', 'PL': 'PLN', 'SE': 'SEK', 'NO': 'NOK', 'DK': 'DKK',
      'RU': 'RUB', 'UA': 'UAH', 'TR': 'TRY',
      // Asia
      'CN': 'CNY', 'JP': 'JPY', 'KR': 'KRW', 'IN': 'INR',
      'ID': 'IDR', 'TH': 'THB', 'VN': 'VND', 'MY': 'MYR',
      'SG': 'SGD', 'HK': 'HKD', 'TW': 'TWD', 'PH': 'PHP',
      'BD': 'BDT', 'PK': 'PKR',
      // Middle East
      'SA': 'SAR', 'AE': 'AED', 'IL': 'ILS', 'QA': 'QAR', 'KW': 'KWD',
      // Oceania
      'AU': 'AUD', 'NZ': 'NZD',
      // Africa
      'ZA': 'ZAR', 'EG': 'EGP', 'NG': 'NGN', 'KE': 'KES',
    };
    return regionCurrency[region] || '';
  }

  // Fallback: Get currency for language (when region not available)
  function getCurrencyForLang(lang: string): string {
    const langCurrency: Record<string, string> = {
      'en': 'USD', 'zh': 'CNY', 'hi': 'INR', 'es': 'EUR', 'fr': 'EUR',
      'ar': 'SAR', 'bn': 'BDT', 'pt': 'BRL', 'ru': 'RUB', 'ja': 'JPY',
      'de': 'EUR', 'ko': 'KRW', 'vi': 'VND', 'it': 'EUR', 'tr': 'TRY',
      'pl': 'PLN', 'uk': 'UAH', 'nl': 'EUR', 'th': 'THB', 'id': 'IDR',
    };
    return langCurrency[lang] || 'USD';
  }

  // Get the best currency based on user's locale (region first, then language)
  function detectUserCurrency(): string {
    const region = getUserRegion();
    const regionCurrency = getCurrencyForRegion(region);
    if (regionCurrency) return regionCurrency;
    return getCurrencyForLang(currentLang);
  }

  // Default salary by currency (rounded values equivalent to ~$2000 USD)
  function getDefaultSalaryForCurrency(currency: string): number {
    const salaryByCurrency: Record<string, number> = {
      'USD': 2000, 'CAD': 2700, 'MXN': 35000, 'AUD': 3000, 'NZD': 3300,
      'EUR': 2000, 'GBP': 1700, 'CHF': 2000,
      'SEK': 22000, 'NOK': 22000, 'DKK': 15000,
      'PLN': 8000, 'UAH': 80000, 'RUB': 200000, 'TRY': 70000,
      'CNY': 15000, 'JPY': 300000, 'KRW': 3000000,
      'INR': 170000, 'BDT': 200000, 'IDR': 30000000,
      'THB': 70000, 'VND': 50000000, 'MYR': 9000,
      'SGD': 2700, 'HKD': 16000,
      'SAR': 7500, 'AED': 7500,
      'BRL': 10000, 'ZAR': 35000,
    };
    return salaryByCurrency[currency] || 2000;
  }

  // Language metadata with flags and names
  const languageInfo: Record<string, { flag: string; name: string }> = {
    'en': { flag: 'ğŸ‡ºğŸ‡¸', name: 'English' },
    'zh': { flag: 'ğŸ‡¨ğŸ‡³', name: 'ä¸­æ–‡' },
    'hi': { flag: 'ğŸ‡®ğŸ‡³', name: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€' },
    'es': { flag: 'ğŸ‡ªğŸ‡¸', name: 'EspaÃ±ol' },
    'fr': { flag: 'ğŸ‡«ğŸ‡·', name: 'FranÃ§ais' },
    'ar': { flag: 'ğŸ‡¸ğŸ‡¦', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' },
    'bn': { flag: 'ğŸ‡§ğŸ‡©', name: 'à¦¬à¦¾à¦‚à¦²à¦¾' },
    'pt': { flag: 'ğŸ‡§ğŸ‡·', name: 'PortuguÃªs' },
    'ru': { flag: 'ğŸ‡·ğŸ‡º', name: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹' },
    'ja': { flag: 'ğŸ‡¯ğŸ‡µ', name: 'æ—¥æœ¬èª' },
    'de': { flag: 'ğŸ‡©ğŸ‡ª', name: 'Deutsch' },
    'ko': { flag: 'ğŸ‡°ğŸ‡·', name: 'í•œêµ­ì–´' },
    'vi': { flag: 'ğŸ‡»ğŸ‡³', name: 'Tiáº¿ng Viá»‡t' },
    'it': { flag: 'ğŸ‡®ğŸ‡¹', name: 'Italiano' },
    'tr': { flag: 'ğŸ‡¹ğŸ‡·', name: 'TÃ¼rkÃ§e' },
    'pl': { flag: 'ğŸ‡µğŸ‡±', name: 'Polski' },
    'uk': { flag: 'ğŸ‡ºğŸ‡¦', name: 'Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°' },
    'nl': { flag: 'ğŸ‡³ğŸ‡±', name: 'Nederlands' },
    'th': { flag: 'ğŸ‡¹ğŸ‡­', name: 'à¹„à¸—à¸¢' },
    'id': { flag: 'ğŸ‡®ğŸ‡©', name: 'Indonesia' },
  };

  let userCurrency = detectUserCurrency();
  let currencySymbol = getCurrencySymbol(userCurrency);
  let userManuallySelectedCurrency = false; // Track if user manually chose currency

  // Frequency and time label keys for translation
  const freqKeys = ['freq50day', 'freq5day', 'freqDaily', 'freqWeekly', 'freqMonthly', 'freqYearly'] as const;
  const timeKeys = ['time1sec', 'time5sec', 'time30sec', 'time1min', 'time5min', 'time30min', 'time1hour', 'time4hours', 'time1day'] as const;

  // Update subtitle based on spend mode
  function updateSubtitle(mode: 'money' | 'time') {
    const subtitleEl = document.getElementById('subtitle');
    if (subtitleEl) {
      subtitleEl.textContent = mode === 'money' ? t.subtitleMoney : t.subtitleTime;
    }
  }

  // Apply translations to the page
  function applyTranslations(currentSpendMode: 'money' | 'time') {
    // Update elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n') as keyof Translations;
      if (t[key]) {
        el.textContent = t[key];
      }
    });

    // Update currency symbol
    const currencyEl = document.getElementById('currency-symbol');
    if (currencyEl) {
      currencyEl.textContent = currencySymbol;
    }

    // Update subtitle based on current spend mode
    updateSubtitle(currentSpendMode);

    // Update frequency headers
    document.querySelectorAll<HTMLTableCellElement>('.freq-header').forEach(el => {
      const index = parseInt(el.dataset.freqIndex || '0', 10);
      if (freqKeys[index]) {
        el.textContent = t[freqKeys[index]];
      }
    });

    // Update time row headers
    document.querySelectorAll<HTMLTableCellElement>('.time-header').forEach(el => {
      const index = parseInt(el.dataset.timeIndex || '0', 10);
      if (timeKeys[index]) {
        el.textContent = t[timeKeys[index]];
      }
    });
  }

  const salaryInput = document.getElementById('salary') as HTMLInputElement;
  const valueCells = document.querySelectorAll<HTMLTableCellElement>('.value-cell');
  const periodToggleBtns = document.querySelectorAll<HTMLButtonElement>('.billing-toggle .toggle-btn');
  const spendToggleBtns = document.querySelectorAll<HTMLButtonElement>('.spend-toggle .toggle-btn');

  let billingPeriod: 'annual' | 'monthly' = 'monthly';
  let spendMode: 'money' | 'time' = 'money';

  function parseSalary(value: string): number {
    return parseInt(value.replace(/[^0-9]/g, ''), 10) || 0;
  }

  function formatSalaryInput(value: string): string {
    const num = parseSalary(value);
    if (num === 0) return '';
    return num.toLocaleString('en-US');
  }

  function updateTable() {
    const salary = parseSalary(salaryInput.value);
    const symbolAfter = currentLang !== 'en';

    valueCells.forEach(cell => {
      const freqMultiplier = parseInt(cell.dataset.freqMultiplier || '0', 10);
      const timeSeconds = parseInt(cell.dataset.timeSeconds || '0', 10);

      const display = getCellDisplay(salary, freqMultiplier, timeSeconds, billingPeriod, spendMode, currencySymbol, symbolAfter);

      const valueSpan = cell.querySelector('.value') as HTMLElement;
      if (valueSpan) {
        valueSpan.textContent = display.text;
        valueSpan.style.opacity = String(display.opacity);
      }

      // Update tier class for color coding
      cell.classList.remove('tier-1', 'tier-2', 'tier-3', 'tier-4', 'tier-5');
      if (display.tier) {
        cell.classList.add(display.tier);
      }
    });
  }

  salaryInput.addEventListener('input', (e) => {
    const target = e.target as HTMLInputElement;
    const cursorPos = target.selectionStart || 0;
    const oldLength = target.value.length;

    target.value = formatSalaryInput(target.value);

    // Adjust cursor position after formatting
    const newLength = target.value.length;
    const newCursorPos = Math.max(0, cursorPos + (newLength - oldLength));
    target.setSelectionRange(newCursorPos, newCursorPos);

    updateTable();
  });

  salaryInput.addEventListener('focus', () => {
    salaryInput.select();
  });

  // Period toggle button handlers
  periodToggleBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      const period = btn.dataset.period as 'annual' | 'monthly';
      if (period === billingPeriod) return;

      billingPeriod = period;

      // Update active state
      periodToggleBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');

      updateTable();
    });
  });

  // Spend mode toggle button handlers
  spendToggleBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      const mode = btn.dataset.spend as 'money' | 'time';
      if (mode === spendMode) return;

      spendMode = mode;

      // Update active state
      spendToggleBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');

      // Update subtitle based on mode
      updateSubtitle(mode);

      updateTable();
    });
  });

  // Header highlight on cell hover
  const freqHeaders = document.querySelectorAll<HTMLTableCellElement>('.freq-header');
  const timeHeaders = document.querySelectorAll<HTMLTableCellElement>('.time-header');

  valueCells.forEach(cell => {
    cell.addEventListener('mouseenter', () => {
      const row = cell.parentElement as HTMLTableRowElement;
      const cellIndex = Array.from(row.cells).indexOf(cell);
      const rowIndex = row.rowIndex - 1; // -1 for thead row

      // Highlight column header (cellIndex includes the row header, so -1)
      if (cellIndex > 0 && freqHeaders[cellIndex - 1]) {
        freqHeaders[cellIndex - 1].classList.add('highlight');
      }

      // Highlight row header
      if (timeHeaders[rowIndex]) {
        timeHeaders[rowIndex].classList.add('highlight');
      }
    });

    cell.addEventListener('mouseleave', () => {
      freqHeaders.forEach(h => h.classList.remove('highlight'));
      timeHeaders.forEach(h => h.classList.remove('highlight'));
    });
  });

  // Language switcher
  const langSwitcher = document.querySelector('.language-switcher') as HTMLElement;
  const langSelector = document.getElementById('lang-selector') as HTMLButtonElement;
  const langDropdown = document.getElementById('lang-dropdown') as HTMLElement;
  const currentFlagEl = document.getElementById('current-flag') as HTMLElement;
  const currentLangNameEl = document.getElementById('current-lang-name') as HTMLElement;
  const langOptions = document.querySelectorAll<HTMLButtonElement>('.lang-option');

  function updateSelectorDisplay(lang: string) {
    const info = languageInfo[lang];
    if (info) {
      currentFlagEl.textContent = info.flag;
      currentLangNameEl.textContent = info.name;
    }
  }

  function setLanguage(lang: string) {
    if (!translations[lang]) return;

    currentLang = lang;
    t = translations[lang];
    localStorage.setItem('language', lang);

    // Only update currency if user hasn't manually selected one
    if (!userManuallySelectedCurrency) {
      userCurrency = getCurrencyForLang(lang);
      currencySymbol = getCurrencySymbol(userCurrency);

      // Update currency display
      const currentCurrencySymbolEl = document.getElementById('current-currency-symbol');
      const currentCurrencyCodeEl = document.getElementById('current-currency-code');
      if (currentCurrencySymbolEl) currentCurrencySymbolEl.textContent = currencySymbol;
      if (currentCurrencyCodeEl) currentCurrencyCodeEl.textContent = userCurrency;

      // Update currency symbol in salary input
      const currencyEl = document.getElementById('currency-symbol');
      if (currencyEl) currencyEl.textContent = currencySymbol;

      // Update active state in currency dropdown
      document.querySelectorAll('.currency-option').forEach(opt => {
        (opt as HTMLElement).classList.toggle('active', (opt as HTMLElement).dataset.currency === userCurrency);
      });

      // Update salary to default for this currency
      const defaultSalary = getDefaultSalaryForCurrency(userCurrency);
      salaryInput.value = defaultSalary.toLocaleString('en-US');
    }

    // Update selector display
    updateSelectorDisplay(lang);

    // Update active option state
    langOptions.forEach(opt => {
      opt.classList.toggle('active', opt.dataset.lang === lang);
    });

    // Close dropdown
    langSwitcher.classList.remove('open');

    // Re-apply translations and update table
    applyTranslations(spendMode);
    updateTable();
  }

  // Toggle dropdown
  langSelector.addEventListener('click', (e) => {
    e.stopPropagation();
    langSwitcher.classList.toggle('open');
  });

  // Close dropdown when clicking outside
  document.addEventListener('click', () => {
    langSwitcher.classList.remove('open');
  });

  // Prevent dropdown from closing when clicking inside
  langDropdown.addEventListener('click', (e) => {
    e.stopPropagation();
  });

  // Language option click handlers
  langOptions.forEach(opt => {
    opt.addEventListener('click', () => {
      const lang = opt.dataset.lang;
      if (lang) setLanguage(lang);
    });
  });

  // Set initial state
  updateSelectorDisplay(currentLang);
  langOptions.forEach(opt => {
    opt.classList.toggle('active', opt.dataset.lang === currentLang);
  });

  // Currency switcher
  const currencySwitcher = document.querySelector('.currency-switcher') as HTMLElement;
  const currencySelector = document.getElementById('currency-selector') as HTMLButtonElement;
  const currencyDropdown = document.getElementById('currency-dropdown') as HTMLElement;
  const currentCurrencySymbolEl = document.getElementById('current-currency-symbol') as HTMLElement;
  const currentCurrencyCodeEl = document.getElementById('current-currency-code') as HTMLElement;
  const currencyOptions = document.querySelectorAll<HTMLButtonElement>('.currency-option');

  function updateCurrencyDisplay(currency: string) {
    const symbol = getCurrencySymbol(currency);
    currentCurrencySymbolEl.textContent = symbol;
    currentCurrencyCodeEl.textContent = currency;

    // Update active state in dropdown
    currencyOptions.forEach(opt => {
      opt.classList.toggle('active', opt.dataset.currency === currency);
    });
  }

  function setCurrency(currency: string, isManual: boolean = false) {
    userCurrency = currency;
    currencySymbol = getCurrencySymbol(currency);

    if (isManual) {
      userManuallySelectedCurrency = true;
      localStorage.setItem('userCurrency', currency);
    }

    // Update currency display in selector
    updateCurrencyDisplay(currency);

    // Update currency symbol in salary input
    const currencyEl = document.getElementById('currency-symbol');
    if (currencyEl) {
      currencyEl.textContent = currencySymbol;
    }

    // Close dropdown
    currencySwitcher.classList.remove('open');

    // Update the table with new currency symbol
    updateTable();
  }

  // Toggle currency dropdown
  currencySelector.addEventListener('click', (e) => {
    e.stopPropagation();
    // Close language dropdown if open
    langSwitcher.classList.remove('open');
    currencySwitcher.classList.toggle('open');
  });

  // Close both dropdowns when clicking outside
  document.removeEventListener('click', () => {
    langSwitcher.classList.remove('open');
  });
  document.addEventListener('click', () => {
    langSwitcher.classList.remove('open');
    currencySwitcher.classList.remove('open');
  });

  // Prevent currency dropdown from closing when clicking inside
  currencyDropdown.addEventListener('click', (e) => {
    e.stopPropagation();
  });

  // Currency option click handlers
  currencyOptions.forEach(opt => {
    opt.addEventListener('click', () => {
      const currency = opt.dataset.currency;
      if (currency) setCurrency(currency, true);
    });
  });

  // Check for saved currency preference
  const savedCurrency = localStorage.getItem('userCurrency');
  if (savedCurrency) {
    userManuallySelectedCurrency = true;
    userCurrency = savedCurrency;
    currencySymbol = getCurrencySymbol(savedCurrency);
  }

  // Set initial salary based on detected currency
  const initialSalary = getDefaultSalaryForCurrency(userCurrency);
  salaryInput.value = initialSalary.toLocaleString('en-US');

  // Update currency display
  updateCurrencyDisplay(userCurrency);

  // Apply translations and initial calculation
  applyTranslations(spendMode);
  updateTable();
</script>
